{% extends "nav.html" %}
{% block content %}
{% load static%}

<link rel="stylesheet" href="{% static 'css/all.min.css' %}">
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link rel="stylesheet" href="{% static 'css/googleapisfonts.css' %}">

<div class="container my-6 rounded" style="background-color: #33475b;">
    <div class="p-2">
      <div class="row">
        <div class="col-12 d-flex text-centre text-light rounded">
          Stock Master
        </div>
      </div>
    </div>
  </div>

<!-- Stock master Starts here -->

<div class="card container-fluid border-dark" id="sm_form" >
    <div class="container mt-2 mb-2">

        <div class="container my-6" style="background-color: #33475b;">
            <div class="p-2">
                <div class="row">
                    <div class="col-4 d-flex text-centre  h5 text-light">
                        Add Item
                    </div>
                </div>
            </div>
        </div>
        <div class="border p-3 mb-2 bg-secondary " style="margin-bottom: 50px;">
            <form class="form-inline needs-validation" id="itemSmForm" method="POST" novalidate>
                {% csrf_token %}
                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend mr-2">
                        <label class="input-group text-white h5 " for="CategorySm">Category</label>
                    </div>
                    <div class="input-group-prepend">
                        <select class="form-select h5 border-dark" id="CategorySm" name="CategorySm" required>
                            <option value="">Select a category</option>
                            {% for key,value in categories.items %}
                            <option value="{{value}}">{{ value}}</option>
                            {% endfor %}
                        </select>
                    </div>

                </div>
                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend mr-2">
                        <label class="input-group text-white h5" for="ItemSm">Item Name</label>
                    </div>
                    <div class="input-group-prepend">
                        <input type="text" class="form-control h5 border-dark" name="itemSm_name" id="itemSm_name"
                            placeholder="Enter Item Name" required>
                    </div>

                </div>

                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend mr-2">
                        <label class="input-group text-white h5" for="quantityValue">Quantity</label>
                    </div>
                    <div class="input-group-prepend">
                        <input type="number" class="form-control h5 border-dark" id="itemSm_qty" name="itemSm_qty"
                            placeholder="Enter Quantity" width="10px" required>
                    </div>

                </div>
                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend ml-2">
                        <button type="button" id="generate-qr-code-btnSm" onclick="generate_qrSm()"
                            name="generate_qr_codeSm" class="btn h5 text-white btn-color btn-outline-success ">Generate
                            QR Code</button>
                    </div>


                </div>

            </form>
        </div>
        <div class="container my-6 " style="background-color: #33475b;">
            <div class="p-2">
                <div class="row">
                    <div class="col-12 d-flex text-centre h5 text-light">
                        Edit/Delete Item
                    </div>
                </div>
            </div>
        </div>
        <div class="border p-3 mb-2 bg-secondary">
            <form class="form-inline needs-validation" id="itemSmForm2" method="POST" novalidate>
                {% csrf_token %}

                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend mr-2">
                        <label class="input-group h5 text-white " for="Category22Sm">Category</label>
                    </div>
                    <div class="input-group-prepend ">
                        <select class="form-select border-dark h5" id="Category2Sm" name="Category2Sm"
                            onchange="loadItemsSm()" required>
                            <option value="">Select a category</option>
                            {% for key,value in categories.items %}
                            <option value="{{key}}">{{ value}}</option>
                            {% endfor %}
                        </select>
                    </div>

                </div>

                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend ">
                        <label class="input-group h5 text-white mr-2" for="ItemSm">Item Name</label>
                    </div>
                    <div class="input-group-prepend mr-2">
                        <select class="form-select border-dark h5" id="item2Sm" name="item2Sm" required>
                            <option value="">Select an Item</option>
                        </select>
                    </div>

                </div>

                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend mr-2">
                        <button type="button" id="edit_item-btnSm" onclick="edit_itemSm()" name="edit"
                            class="btn h5 text-white btn-color btn-outline-success mb-2 mr-2">Edit Name</button>
                    </div>
                    <div class="input-group-prepend mr-2">
                        <button type="button" id="edit_item-btnSm" onclick="edit_itemQty()" name="edit"
                            class="btn h5 text-white btn-color btn-outline-success mb-2 mr-2">Edit Quantity</button>
                    </div>
                    <div class="input-group-prepend mr-2">
                        <button type="button" id="delete_item-btnSm" onclick="delete_itemSm()" name="delete"
                            class="btn h5 text-white btn-color btn-outline-success mb-2">Delete</button>
                    </div>

                </div>
            </form>

        </div>

        <!-- Edit Category -->

        <div class="container my-6" style="background-color: #33475b;">
            <div class="p-2">
                <div class="row">
                    <div class="col-12 d-flex text-centre h5 text-light">
                        Edit/Delete Category
                    </div>
                </div>
            </div>
        </div>
        <div class="border p-3 mb-2 bg-secondary">
            <form id="categoryForm2Sm" method="POST" class="needs-validation form-inline" novalidate>
                {% csrf_token %}

                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend">
                        <label class="input-group h5 mr-2 text-white" for="Category3">Category</label>
                    </div>
                    <div class="input-group-prepend">
                        <select class="form-select h5 border-dark" id="Category3Sm" name="Category3Sm"
                            onchange="loadItemsSm()" required>
                            <option value="">Select a category</option>
                            {% for key,value in categories.items %}
                            <option value="{{key}}">{{ value}}</option>
                            {% endfor %}
                        </select>
                    </div>

                </div>
                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend">
                        <button type="button" id="edit_category-btn" onclick="edit_categorySm()" name="edit"
                            class="btn h5 text-white btn-color btn-outline-success mb-2 mr-2">Edit</button>
                    </div>
                </div>

            </form>

        </div>
        <!-- Edit Category Modal -->

        <div class="modal fade" id="editCategorySmModal" tabindex="-1" role="dialog"
            aria-labelledby="editCategorySmModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editCategorySmModalLabel">Edit Category</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- Edit Category Form -->
                        <form id="editCategorySmForm" method="post">
                            {% csrf_token %}
                            <div class="form-group ">
                                <label for="categorySmName">New Category Name</label>
                                <input type="text" class="form-control " id="new_categorySm" name="new_categorySm"
                                    placeholder="Enter Category name" required>
                            </div>

                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn h5 text-white btn-color btn-outline-success"
                            data-dismiss="modal">Close</button>
                        <button type="button" form="editCategorySmForm" onclick="edit_qrCategorySm()"
                            class="btn h5 text-white btn-color btn-outline-success">Save
                            Changes</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Item Modal -->
        <div class="modal fade" id="editItemSmModal" tabindex="-1" role="dialog"
            aria-labelledby="editItemSmModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editItemSmModalLabel">Edit Item</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- Edit Item Form -->
                        <form id="editItemSmForm" method="post">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="itemSmName">New Item Name</label>
                                <input type="text" class="form-control" id="itemSmNameModal" name="itemSmName"
                                    placeholder="Enter item name" required>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn h5 text-white btn-color btn-outline-success"
                            data-dismiss="modal">Close</button>
                        <button type="button" form="editItemSmForm" onclick="edit_qrSm()"
                            class="btn h5 text-white btn-color btn-outline-success">Save
                            Changes</button>
                    </div>
                </div>
            </div>
        </div>
 <!-- Edit Item Qty Modal -->
 <div class="modal fade" id="editItemQtyModal" tabindex="-1" role="dialog"
 aria-labelledby="editItemQtyModalLabel" aria-hidden="true">
 <div class="modal-dialog" role="document">
     <div class="modal-content">
         <div class="modal-header">
             <h5 class="modal-title" id="editItemQtyModalLabel">Edit Quantity</h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
             </button>
         </div>
         <div class="modal-body">
             <!-- Edit Item Form -->
             <form id="editItemQtyForm" method="post">
                 {% csrf_token %}
                 <div class="form-group">
                    <label for="itemSmName">Existing Quantity</label>
                    <input type="number" class="form-control" id="qtyInput" value="0" disabled>
                 </div>
                 <div class="form-group">
                     <label for="itemSmName">Quantity to Add/Remove</label>
                     <input type="number" class="form-control" id="newQty" value="0" min=0 required>
                  </div>

             </form>
         </div>
         <div class="modal-footer">
             <button type="button" class="btn h5 text-white btn-color btn-outline-success"
             onclick="addQty()" >Add</button>
             <button type="button" form="editItemQtyForm" onclick="removeQty()"
                 class="btn h5 text-white btn-color btn-outline-success">Remove</button>
         </div>
     </div>
 </div>
</div>

        <!-- Delete Item Modal -->
        <div class="modal fade" id="deleteItemSmModal" tabindex="-1" role="dialog"
            aria-labelledby="deleteItemSmModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteItemSmModalLabel">Delete Item</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to delete this item?</p>
                        <p><strong>Note:</strong> Once deleted, you will not be able to issue this item anymore.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn h5 text-white btn-color btn-outline-success"
                            data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn h5 text-white btn-color btn-outline-success"
                            onclick="deleteItemSmfromdb()">Delete</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="printSmModal" tabindex="-1" role="dialog" aria-labelledby="printSmModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="printSmModalLabel">Print QR Code</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">

                        <div class="form-group">
                            <label for="printSmPosition">Print Position:</label>
                            <input type="number" id="printSmPosition" min=1 max=18
                                title="Please enter a number between 1 and 18">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn h5 text-white btn-color btn-outline-success"
                            data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn h5 text-white btn-color btn-outline-success" id="printSmBtn"
                            onclick="handlePrintSm()">Print</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container my-6 mt-2" style="background-color: #33475b;">
            <div class="p-2">
                <div class="row">
                    <div class="col-12 d-flex text-centre h5 text-light">
                        Add Category
                    </div>
                </div>
            </div>
        </div>
        <div class="border p-3 mb-8 bg-secondary">
            <form class="form-inline needs-validation" method="POST" id="categorySm" novalidate>
                {% csrf_token %}
                <div class="input-group mb-2 mr-sm-2">
                    <div class="input-group-prepend">
                        <label class="input-group h5 mr-2 text-white" for="categorySm">Category</label>
                    </div>
                    <div class="input-group-prepend">
                        <input type="text" class="form-control h5 border-dark" name="categorySm" id="categorySm_data"
                            required>
                    </div>
                    <div class="input-group-prepend ml-2">
                        <button type="button" onclick="addtocategorySm()"
                            class="btn h5 text-white btn-color btn-outline-success mb-2">Add</button>
                    </div>

                </div>


            </form>
        </div>
    </div>
</div>
<script>
   function check_validation(form_id, callback) {
       var form = document.getElementById(form_id);
       event.preventDefault(); // Prevent default form submission behavior

       form.classList.add('was-validated'); // Trigger form validation
       if (form.checkValidity()) {
           // Form is valid, perform your desired action here
           console.log('Form is valid. Performing action...');
           callback(true);
       } else {

           callback(false);
       }

   }

   function edit_itemQty() {
        check_validation('itemSmForm2', function (isValid) {
            if (isValid) {
                console.log("in edit Item Quantity")
                $('#editItemQtyModal').modal('show');
                var item_id = document.getElementById('item2Sm').value;
                fetch('/fetch_item_qty/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                    },
                    body: JSON.stringify({ item_id: item_id })
                })
                .then(response => response.json())
            .then(data => {
                document.getElementById('qtyInput').value=data.qty;
                })
            .catch(error => console.log("Error fetching items:", error));


            }
        });
    }
    
function addQty(){
    check_validation('editItemQtyForm', function (isValid) {
            if (isValid) {
                var category_id=document.getElementById('Category2Sm').value;
                var item_id = document.getElementById('item2Sm').value;
                var actualqty=document.getElementById('qtyInput').value;
                var newqty=document.getElementById('newQty').value;
                if (newqty==0){
                    alert("Zero quantity cannot be added");
                }
                else{
                    fetch('/modify_qty/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                    },
                    body: JSON.stringify({ category_id: category_id,item_id: item_id ,newqty:newqty,actualqty:actualqty})
                })
                .then(response => response.json())
            .then(data => {
                $('#editItemQtyModal').modal('hide');
                alert(data.success);
                window.location.href = "{% url 'stock_master' %}";
                })
            .catch(error => console.log("Error fetching items:", error));

                }
                
                }
        });
}

function removeQty(){
    check_validation('editItemQtyForm', function (isValid) {
        if (isValid) {
                var category_id=document.getElementById('Category2Sm').value;
                var item_id = document.getElementById('item2Sm').value;
                var actualqty=document.getElementById('qtyInput').value;
                var newqty=document.getElementById('newQty').value;
                if (newqty==0){
                    alert("Zero quantity cannot be removed");
                }
                else if(newqty>actualqty){
                    alert("Quantity removed cannot be more than existing quantity")
                }
                else{
                    fetch('/modify_qty/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                    },
                    body: JSON.stringify({ category_id: category_id, item_id: item_id ,newqty:-newqty,actualqty:actualqty})
                })
                .then(response => response.json())
            .then(data => {
                $('#editItemQtyModal').modal('hide');
                alert(data.success);
                window.location.href = "{% url 'stock_master' %}";
                })
            .catch(error => console.log("Error fetching items:", error));

                }
                
                }
        });
}

   function edit_itemSm() {
        check_validation('itemSmForm2', function (isValid) {
            if (isValid) {
                console.log("in edit item")
                $('#editItemSmModal').modal('show');
                var item = document.getElementById('item2Sm');
                var item_id=item.value;
                console.log(item.options[item.selectedIndex].text);
                document.getElementById('itemSmNameModal').value = item.options[item.selectedIndex].text;
                }
        });
    }
    function edit_categorySm() {
        check_validation('categoryForm2Sm', function (isValid) {
            if (isValid) {

                console.log("in edit Category")
                $('#editCategorySmModal').modal('show');
                var category = document.getElementById('Category3Sm');
                console.log(category.options[category.selectedIndex].text);
                document.getElementById('new_categorySm').value = category.options[category.selectedIndex].text;
            }
            else {
                console.log("form is not valid")
            }
        });


    }
    function delete_itemSm() {
        check_validation('itemSmForm2', function (isValid) {
            if (isValid) {
                console.log("in delete item")
                $('#deleteItemSmModal').modal('show');
            }

        });
    }
    function deleteItemSmfromdb() {
        var item = document.getElementById('item2Sm').value;
        fetch('/delete_item/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
            },
            body: JSON.stringify({ item: item })
        })
            .then(response => response.json())
            .then(data => {
                $('#deleteItemSmModal').modal('hide');
                alert(data.success);

                window.location.href = "{% url 'stock_master' %}";
                })
            .catch(error => console.log("Error fetching items:", error));
    }
    function edit_qrSm() {
        var item = document.getElementById('item2Sm');
        item = item.options[item.selectedIndex].text;
        var new_item = document.getElementById('itemSmNameModal').value;
        fetch('/edit_qr/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
            },
            body: JSON.stringify({ item: item, new_item: new_item })
        })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                if (data.success == "Item already exists. Give Another Name") {
                    alert(data.success);
                }
                else {

                    var result = window.confirm("Edit successful. Do you want to Print QR Code? \n Press OK to Print or Cancel to End Transaction");

                    // Check the result
                    if (result) {
                        console.log("in window OK");
                        $('#printSmModal').modal('show');
                        $('#editItemSmModal').hide();

                    } else {
                        console.log("in window Else");
                        window.location.href = "{% url 'stock_master' %}";
                            
                    }

                }


            })
            .catch(error => console.log("Error fetching items:", error));
    }

    function edit_qrCategorySm() {
        var category = document.getElementById('Category3Sm');
        category = category.options[category.selectedIndex].text;
        var new_category = document.getElementById('new_categorySm').value;
        fetch('/edit_category/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
            },
            body: JSON.stringify({ category: category, new_category: new_category })
        })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                if (data.success == "Category already exists Kindly give another name") {
                    alert(data.success);
                }
                else {
                    alert(data.success);
                    window.location.href = "{% url 'stock_master' %}";
                    
                }
            })
            .catch(error => console.log("Error fetching items:", error));
    }

    function loadItemsSm() {
        var category = document.getElementById("Category2Sm").value;
        console.log(category);

        if (category == "") {
        }
        else {
            fetch('/get_items/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                },
                body: JSON.stringify({ category: category })
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    // Populate the item dropdown with the fetched items
                    var itemDropdown = document.getElementById("item2Sm");
                    itemDropdown.innerHTML = "<option value=''>Select an item</option>";
                    console.log(data);
                    if (typeof data.length === "undefined") {
                        alert(data.error);
                    }
                    data.forEach(function (item) {
                        var option = document.createElement("option");
                        option.value = item.qr_id;
                        option.text = item.item_name;
                        itemDropdown.appendChild(option);
                    });
                })
                .catch(error => console.log("Error fetching items:", error));
        }
    }
    function addtocategorySm() {
        check_validation('categorySm', function (isValid) {

            if (isValid) {
                var category = document.getElementById("categorySm_data").value;
                fetch('/addtocategory/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                    },
                    body: JSON.stringify({ category: category })
                })
                    .then(response => response.json())
                    .then(data => {

                        console.log(data);
                        alert(data.success);
                        window.location.href = "{% url 'stock_master' %}";
                        
                    })
                    .catch(error => console.log("Error fetching items:", error));
            }

        });
    }

    function generate_qrSm() {
        check_validation('itemSmForm', function (isValid) {


            if (isValid) {
                var category_name = document.getElementById('CategorySm').value;
                var item_name = document.getElementById('itemSm_name').value;
                var qty = document.getElementById('itemSm_qty').value;
                console.log(category_name, item_name)
                fetch('/generate_qr_code_view/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                    },
                    body: JSON.stringify({ category_name: category_name, item_name: item_name, qty: qty, type: "G" })
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log(data);
                        if (data.success == "Item already exists") {
                            alert(data.success)
                        }
                        else {
                            var result = window.confirm("Add successful. Do you want to Print QR Code? \n Press OK to Print or Cancel to End Transaction");

                            // Check the result
                            if (result) {
                                $('#printSmModal').modal('show');

                            } else {
                                window.location.href = "{% url 'stock_master' %}";
                                
                            }
                        }


                    })
                    .catch(error => console.log("Error fetching items:", error));
            }
        });
    }
    function handlePrintSm() {
        // Get the entered text and selected position

        var position = document.getElementById('printSmPosition').value;
        var category_name = document.getElementById('CategorySm').value;
        if (position > 18 || position < 1) {
            alert("Kindly enter between 1 to 18 only")
        }
        else {


            if (category_name = "") {
                console.log("in here")
                category_name = document.getElementById("CategorySm").value;
                console.log(category_name)
            }
            var item_name = document.getElementById('itemSm_name').value;
            if (item_name == "") {
                item_name = document.getElementById('itemSmNameModal').value;
            }
            // Generate the QR code image element
            fetch('/generate_pdf_with_qr_codes/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}' // Include CSRF token for Django
                },
                body: JSON.stringify({ item_name: item_name, position: position })
            })
                .then(response => response.json())
                .then(data => {
                    $('#printSmModal').hide();

                    // alert(data.success);
                    console.log(item_name);
                    window.open("{% static 'pdfs/' %}" + "QR_Code" + ".pdf");
                    window.location.href = "{% url 'stock_master' %}";
                    
                })
                .catch(error => console.log("Error fetching items:", error));
        }
    }



</script>
<script src="{% static 'js/jquery3.6.min.js' %}"></script>

<script src="{% static 'js/qrcode.min.js' %}"></script>
<script src="{% static 'js/jspdf.umd.min.js' %}"></script>
<script src="{% static 'js/jquery111.min.js' %}"></script>
<script src="{% static 'js/jquery-3.5.1.slim.min.js' %}"></script>
<script src="{% static 'js/jquery-3.2.1.slim.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/bootstrap4.6.bundle.min.js' %}"></script>
<script src="{% static 'js/popper.min.js' %}"></script>
<script src="{% static 'js/bootstrap4.min.js' %}"></script>
<script src="{% static 'js/Chart.min.js' %}"></script>

{% endblock %}